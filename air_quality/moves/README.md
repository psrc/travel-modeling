# Automating MOVES Runs
This repository includes a set of scripts that allows automation of multiple MOVES runs as well as exporting of results to CSV files. The **configuration.toml** file includes working directories, lists of years to run and which scripts to run. 

The main script **run_all.py** will process three difference python scripts, which help automate the inputs for multiple counties and years. Update information in the configuration TOML file and run this script to generate year-specific data, produce the database XML files, and MOVES Run Specification (MRS) files. 

Once these text files are generated, use the batch files through MOVES to generate input and output databases and start MOVES runs. These batch files should be copied to a directory without spaces in the path (e.g., on the T drive). They must be run from the MOVES directory. Navigate to the following location and run the "setenv" command to initialize.
  `C:\Users\Public\EPA\MOVES\MOVES3> setenv`

The .mrs and .xml files in the local directory will be processed by the batch files, so copy the files that were built from the scripts generated by **run_al.py**. Update the path to this location in the batch files and run the batch files from the command prompt at the MOVES3 install location. 
- Run **create_input_db.bat** first: this file creates all the database files from input in the XML files
- Next run **batch_run.bat**: this will iterate through each MRS file in the directory, running MOVES for each one.

## Results
Results will be available in the output database defined in **configuration.toml**, as specified in the db_tag field. To export results, run **export_moves_data.py**, which will create results in CSV format.  

See the old_README.md for more detailed information. 
